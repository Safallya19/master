<?xml version="1.0" encoding="UTF-8"?>
<api context="/sampleTwo/v1.0" name="sampleTwo-api_v1.0" xmlns="http://ws.apache.org/ns/synapse">
    <resource methods="GET" protocol="http" uri-template="/sample/emp/{in}">
        <inSequence>
            <property expression="get-property('uri.var.in')" name="in" scope="default" type="STRING"/>
            <payloadFactory description="PayloadFactory" media-type="xml">
                <format>
                    <inputRequest xmlns="http://service.infy.com/sampleTwo-services/message/v1">
                        <in>$1</in>
                    </inputRequest>
                </format>
                <args>
                    <arg evaluator="xml" expression="$ctx:in"/>
                </args>
            </payloadFactory>
            <sequence key="sample-services_main_emp-sequence_v1.0"/>
            <loopback description="LoopBack"/>
            <send/>
        </inSequence>
        <outSequence>
            <send/>
        </outSequence>
        <faultSequence/>
    </resource>
    <resource methods="GET" protocol="http" uri-template="/sample/customer/{cin}">
        <inSequence>
            <property expression="get-property('uri.var.cin')" name="cin" scope="default" type="STRING"/>
            <payloadFactory description="PayloadFactory" media-type="xml">
                <format>
                    <inReq xmlns="http://service.infy.com/sampleTwo-services/message/v1">
                        <cin>$1</cin>
                    </inReq>
                </format>
                <args>
                    <arg evaluator="xml" expression="$ctx:cin"/>
                </args>
            </payloadFactory>
            <log>
                <property expression="$body" name="var0"/>
            </log>
            <sequence key="sample-services_main_cust-sequence_v1.0"/>
            <loopback description="LoopBack"/>
            <send/>
        </inSequence>
        <outSequence>
            <send/>
        </outSequence>
        <faultSequence/>
    </resource>
</api>
